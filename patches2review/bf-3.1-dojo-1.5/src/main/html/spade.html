<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <title>-Spade</title>

        <!-- required: a default theme file -->
        <link rel="stylesheet" id="themeStyles" href="/betterform/resources/scripts/dijit/themes/tundra/tundra.css">
        <!-- test file style rollup, you need resources/ExpandoPane.css exclusively -->
        <link rel="stylesheet" href="/betterform/resources/scripts/dojox/layout/tests/_expando.css">

        <style type="text/css">
            body{
                margin:0;
                padding:0;
            }
            .nonSpacedHorizontal {
                letter-spacing: 1.0em;
            }
            .spacedHorizontal {
                letter-spacing: 1.5em;
            }

            .fontSizeTest2 {
                font: 10px Arial, sans-serif;
            }
            .fontSizeTest {
                font: 20px Arial, sans-serif;
            }
            .right{
                text-align:right;
            }
        </style>

        <!-- required: dojo.js -->
        <script type="text/javascript"
                src="http://ajax.googleapis.com/ajax/libs/dojo/1.4/dojo/dojo.xd.js">
        </script>

        <script type="text/javascript">
            dojo.require("dojo.parser");
            dojo.require("dijit.layout.BorderContainer");
            dojo.require("dojox.fx.style");
            dojo.require("dojo.dnd.Source");
            dojo.require("betterform.ui.spade.Container");
            dojo.require("dijit.form.TextBox");


            dojo.addOnLoad(function() {
            });

            dojo.subscribe("/dnd/drop", function(source,nodes,iscopy,target){
                var t = dojo.dnd.manager().target;
                console.debug("dnd target: ", t);

                if(t == source) return;
    //            var ncrtfunction = function(data, hint){
    //                var hel = dojo.doc.createElement('div');
    //                hel.innerHTML = data.value;
    //                hel.id = 'i5';
    //                return {node: hel, data: data.value, type: ['text']};
    //            };
    //            worklist.creator = ncrtfunction;
    //            console.debug("Creator: ",worklist.creator);
    //            worklist.insertNodes(true, [{id: 'i5', value: 'ans'}]);
    //            var nFetched = worklist.getItem('i5');
    //            console.debug("nFetched: ",nFetched, " worklistSource:",worklist);
    //            worklist.creator = null;
    //


                var newGroup = new betterform.ui.spade.Container({id:dojo.dnd.getUniqueId()},dojo.query('#worklist #group')[0]);

                console.debug("source: ", source);
                console.debug("nodes: ", nodes);
            });



        </script>

    </head>
    <body class="tundra">
        <div dojoType="dijit.layout.BorderContainer" design="sidebar" gutters="true" liveSplitters="true" id="borderContainer">
            <div dojoType="dijit.layout.ContentPane" splitter="true" region="leading"
            style="width: 100px;">
                Hi
            </div>
            <div dojoType="dijit.layout.ContentPane" splitter="true" region="center">
                Hi, I'm center
            </div>
        </div>

       <!-- <div id="bc" style="width:100%; height:100%; padding: 5px;" dojoType="dijit.layout.BorderContainer">

            <div id="teaser" dojoType="dijit.layout.ContentPane" style="height:24px;background-color:#ddd;" region="top">
                Spade 0.1
            </div>

            <div style="width:200px; height:100%;" dojoType="dijit.layout.ContentPane"
                 region="left">

                <ul style="list-style-type:none;list-style-image:none;padding:0;margin:0;background-color:#eee;" dojotype="dojo.dnd.Source" class="dndContainer" copyOnly="true">
                    <li class="dojoDndItem">
                        <label for="textbox">label</label>
                        <div id="inputTextField" dojotype="dijit.form.TextBox" class="cpane" ></div>
                    </li>
                    <li class="dojoDndItem">
                        <ul style="list-style-type:none;list-style-image:none;padding:0;margin:0;background-color:#eee;"
                            dojotype="dojo.dnd.Source"
                            class="dndContainer"
                            copyOnly="true">
                            <li class="dojoDndItem">
                                <div id="group" dojotype="betterform.ui.spade.Container" style="padding:10px;border:thin dotted;">
                                    container
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>-->

            <!--<div dojotype="dijit.layout.ContentPane"
                 region="center">

                <div id="GC1" dojoType="dojox.layout.GridContainer"
                                nbZones="2"
                                opacity="0.7"
                                allowAutoScroll="true"
                                hasResizableColumns="false"
                                withHandles="true"
                                acceptTypes="dijit.form.TextBox, dijit.layout.ContentPane, dijit.TitlePane, dijit.ColorPalette, dijit._Calendar">

                    <script type="dojo/method" event="creator" args="item, hint">
                        // this is custom creator, which changes the avatar representation
                        console.debug("item: ",item);
                        console.debug("hint: ",hint);


                    </script>

                        <div dojoType="dijit.layout.ContentPane" class="cpane" label="Content Pane">Drop here!</div>



                </div>



                <ul id="worklist" jsid="worklist" style="list-style-type:none;list-style-image:none;padding:0;margin:0;background-color:#eee;"
                    dojotype="dojo.dnd.Source"
                    class="dndContainer"
                    copyOnly="true"
                    >
                    <script type="dojo/method" event="creator" args="item, hint">
                        // this is custom creator, which changes the avatar representation
                        console.debug("item: ",item);

                        var dropDiv;
        //								if(hint == "avatar"){
        //        							return {node: dojo.dnd._createSpan(item.domNode.innerHTML)};
        //							    }else if(typeof item == "string"){

                        dropDiv = dojo.doc.createElement("div");
                        dropDiv.className = 'target';
                        dropDiv.id = dojo.dnd.getUniqueId();
                        dropDiv.innerHTML = ' ';
                        // now create a target with your parameters
                        var myTarget = new dojo.dnd.Source(dropDiv, {});

                        this.insertNodes(true,[{id: 'i1', value: 'ans'}]);
                        return {node: dropDiv, data: item, type: ["text"]};

                    </script>
                    <li class="dojoDndItem">
                        look
                    </li>
                </ul>


            </div>-->

</body>
</html>
