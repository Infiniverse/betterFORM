<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2010. betterForm Project - http://www.betterform.de
  ~ Licensed under the terms of BSD License
  -->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xf="http://www.w3.org/2002/xforms"
      xmlns:ev="http://www.w3.org/2001/xml-events"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<head>
    <title>Registration </title>

    <link rel="stylesheet" type="text/css" href="../../resources/styles/registration.css"/>
</head>
<body>
<div id="xforms">
    <div style="display:none">
        <xf:model id="model-1">
            <xf:instance>
                <data xmlns="">
                    <firstname></firstname>
                    <lastname></lastname>
                    <alias></alias>
                    <email></email>
                    <pass1/>
                    <pass2/>
                </data>
            </xf:instance>

            <xf:bind nodeset="alias" constraint="string-length(.) &gt; 3" required="true()"/>
            <xf:bind nodeset="email" type="email" required="true()"/>
            <xf:bind nodeset="pass1" constraint="string-length(.) &gt; 6" required="true()"/>
            <xf:bind nodeset="pass2" constraint=". = ../pass1" required="true()"/>

            <xf:submission id="s-send" replace="instance" resource="echo:test" method="get">
                <xf:action ev:event="xforms-submit-error">
                    <xf:message level="ephemeral">Registration failed. Please fill in the values.</xf:message>
                </xf:action>
                <xf:action ev:event="xforms-submit-done">
                    <xf:message level="ephemeral">You have been registered successfully.</xf:message>
                </xf:action>
            </xf:submission>


            <xf:setfocus control="first" ev:event="xforms-ready"/>


        </xf:model>
    </div>

    <xf:group appearance="bf:verticalTable" class="InlineRoundBordersAlert">
        <xf:label>Registration</xf:label>
        <xf:input id="first" ref="firstname">
            <xf:label>Firstname:</xf:label>
            <xf:hint>enter your firstname</xf:hint>
        </xf:input>
        <xf:input ref="lastname">
            <xf:label>Lastname:</xf:label>
            <xf:hint>enter your lastname</xf:hint>
        </xf:input>
        <xf:input ref="alias">
            <xf:label>Username:</xf:label>
            <xf:hint>please choose a unique username</xf:hint>
            <xf:alert>please choose a username longer than 3 characters</xf:alert>
        </xf:input>
        <xf:input ref="email">
            <xf:label>Email:</xf:label>
            <xf:alert>is not a valid email address</xf:alert>
        </xf:input>
        <xf:input ref="pass1">
            <xf:label>choose a password:</xf:label>
            <xf:alert>password must be at least 6 characters</xf:alert>
            <xf:hint>more than 6 characters required</xf:hint>
        </xf:input>
        <xf:input ref="pass2">
            <xf:label>retype your password:</xf:label>
            <xf:hint>please retype your password</xf:hint>
            <xf:alert>passwords do not match</xf:alert>
        </xf:input>
        <xf:trigger appearance="triggerMiddleColumn">
            <xf:label>register</xf:label>
            <xf:send submission="s-send"/>
        </xf:trigger>
    </xf:group>
</div>
</body>
</html>
